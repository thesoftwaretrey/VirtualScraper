(()=>{"use strict";const e=Symbol("Comlink.proxy"),t=Symbol("Comlink.endpoint"),n=Symbol("Comlink.releaseProxy"),r=Symbol("Comlink.thrown"),a=e=>"object"==typeof e&&null!==e||"function"==typeof e,i=new Map([["proxy",{canHandle:t=>a(t)&&t[e],serialize(e){const{port1:t,port2:n}=new MessageChannel;return o(e,t),[n,[n]]},deserialize:e=>(e.start(),c(e,[],undefined))}],["throw",{canHandle:e=>a(e)&&r in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function o(t,n=self){n.addEventListener("message",(function a(i){if(!i||!i.data)return;const{id:l,type:c,path:m}=Object.assign({path:[]},i.data),y=(i.data.argumentList||[]).map(d);let f;try{const n=m.slice(0,-1).reduce(((e,t)=>e[t]),t),r=m.reduce(((e,t)=>e[t]),t);switch(c){case"GET":f=r;break;case"SET":n[m.slice(-1)[0]]=d(i.data.value),f=!0;break;case"APPLY":f=r.apply(n,y);break;case"CONSTRUCT":f=function(t){return Object.assign(t,{[e]:!0})}(new r(...y));break;case"ENDPOINT":{const{port1:e,port2:n}=new MessageChannel;o(t,n),f=function(e,t){return u.set(e,t),e}(e,[e])}break;case"RELEASE":f=void 0;break;default:return}}catch(e){f={value:e,[r]:0}}Promise.resolve(f).catch((e=>({value:e,[r]:0}))).then((e=>{const[t,r]=p(e);n.postMessage(Object.assign(Object.assign({},t),{id:l}),r),"RELEASE"===c&&(n.removeEventListener("message",a),s(n))}))})),n.start&&n.start()}function s(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function l(e){if(e)throw new Error("Proxy has been released and is not useable")}function c(e,r=[],a=function(){}){let i=!1;const o=new Proxy(a,{get(t,a){if(l(i),a===n)return()=>y(e,{type:"RELEASE",path:r.map((e=>e.toString()))}).then((()=>{s(e),i=!0}));if("then"===a){if(0===r.length)return{then:()=>o};const t=y(e,{type:"GET",path:r.map((e=>e.toString()))}).then(d);return t.then.bind(t)}return c(e,[...r,a])},set(t,n,a){l(i);const[o,s]=p(a);return y(e,{type:"SET",path:[...r,n].map((e=>e.toString())),value:o},s).then(d)},apply(n,a,o){l(i);const s=r[r.length-1];if(s===t)return y(e,{type:"ENDPOINT"}).then(d);if("bind"===s)return c(e,r.slice(0,-1));const[u,p]=m(o);return y(e,{type:"APPLY",path:r.map((e=>e.toString())),argumentList:u},p).then(d)},construct(t,n){l(i);const[a,o]=m(n);return y(e,{type:"CONSTRUCT",path:r.map((e=>e.toString())),argumentList:a},o).then(d)}});return o}function m(e){const t=e.map(p);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const u=new WeakMap;function p(e){for(const[t,n]of i)if(n.canHandle(e)){const[r,a]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},a]}return[{type:"RAW",value:e},u.get(e)||[]]}function d(e){switch(e.type){case"HANDLER":return i.get(e.name).deserialize(e.value);case"RAW":return e.value}}function y(e,t,n){return new Promise((r=>{const a=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===a&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:a},t),n)}))}function f(e,t){try{let n;return t?.length?n=t:e&&"string"==typeof e&&e.length?n=e:e?.emailAddress?n=e.emailAddress:Array.isArray(e)&&e.length&&(n=e[0].emailAddress),n}catch(e){return null}}const h=e=>{if(!e)return{};const t=e;return Object.entries(t).forEach((([e,n])=>{n&&"object"==typeof n&&h(n),(n&&"object"==typeof n&&!Object.keys(n).length||null==n)&&(Array.isArray(t)?t.splice(e,1):delete t[e])})),t},g=e=>e.replace(/(\r\n|\n|\r)/gm," ").replace(/^Greater /,"").replace(/ Area$/,"").replace(/ Metropolitan$/,""),b=e=>{let t=e&&"string"==typeof e&&e.trim();return t?(/^https?:\/([^/].*|\/\/+.+)$/i.test(t)&&(t=t.replace(/:\/+/,"://")),t):e},N=e=>{try{let t=e;if(t&&"object"==typeof t){const{artifacts:e,rootUrl:n}=t;if(n?.length&&n.includes("http")&&e&&Array.isArray(e)?t=n+e[e.length-1].fileIdentifyingUrlPathSegment:n&&n.length||!e?.length||!e[e.length-1].fileIdentifyingUrlPathSegment||!e[e.length-1].fileIdentifyingUrlPathSegment.includes("http")||(t=e[e.length-1].fileIdentifyingUrlPathSegment),!t||!t.length)return}return t=t&&b(t),t}catch(e){return}},w=(e=[])=>{try{let t=e;return t&&"object"==typeof t&&!Array.isArray(t)&&(t=Object.values(t)),t=t.reduce(((e,t)=>{const n=("string"==typeof t&&t||t.name||"").trim();return n&&e.push(n),e}),[]),t.length?t:null}catch(e){return null}},O=function(e){return Array.isArray(e)?e:null==e?[]:[e]};function v(e){try{return e.filter((e=>e)).map((e=>{const{schoolName:t,degree:n,degreeName:r,activities:a=[],fieldOfStudy:i,dateRange:{start:{year:o}={},end:{year:s}={}}={},startedOn:{year:l}={},endedOn:{year:c}={},endDateOn:{year:m}={},startDateOn:{year:u}={},startDateYear:p,endDateYear:d}=e,y=o||l||u||p,f=s||c||m||d;let{fieldsOfStudy:h}=e;Array.isArray(h)&&h.length&&(h=h.join());const g="string"==typeof h?h:i;return{companyName:t,degreeName:r||n,activities:a&&O(a),fieldOfStudy:g,...y&&{startDate:{year:y}},...f&&{endDate:{year:f}}}}))}catch(e){return null}}function P(e=[]){try{return e.reduce(((e,t)=>{const n=e;return t.name&&n.push(t.name),n}),[])}catch(e){return null}}function A(e=[]){try{return e.reduce(((e,t)=>{const n=e;return t.name&&n.push(t.name),n}),[])}catch(e){return null}}const I=/(?:\w+:(\(?))+(?::[\w_]+(?:member|company):)?(?<memberId>[\d]+)?/i,j=/(?:\w+:)+fs(?:d)?_(?:sales|mini|profile)?(Profile|Card):(?:\()?(?<salesNavId>[\w_À&-ÿ%-][^,]+)?,?(?<type>.[^,]+)?/i;function E(e){return e.match(I)?.groups?.memberId}const S=e=>{const t=e&&(e.indexOf(" at ")>-1&&e.split(" at ")||e.indexOf(" @ ")>-1&&e.split(" @ ")||e.indexOf(" - ")>-1&&e.split(" - "));let n,r;return t?(n=t?.length&&1!==t.length?t.pop():void 0,r=t?.length?t.join(" "):void 0):r=e,{companyName:n,title:r}};function k(e){return e.filter((e=>!e.endDate&&e.startDate||e.current))}const D=e=>{return Array.isArray(e)&&!(null==(t=e)||(Array.isArray(t)?0===t.length:(e=>{const t=typeof e;return!!e&&("function"===t||"object"===t)})(t)&&0===Object.keys(t).length));var t},R=e=>Boolean("string"==typeof e&&e.length),U=e=>{const{liMemberId:t,publicIdentifier:n,salesNavIdentifier:r,recruiterIdentifier:a,flagshipProfileUrl:i,firstName:o,lastName:s,fullName:l,birthDateOn:c,profilePicture:m,summary:u,emails:p,phoneNumbers:d,primaryEmail:y,location:I,social:j,awards:U,certifications:C,courses:L,educations:T,industries:M,languages:$,organizations:x,patents:z,projects:H,publications:V,skills:G,volunteeringExperiences:_,occupation:Y,positions:W}=e;let F=l;!F?.length&&o&&s&&(F=`${o} ${s}`);const B=i||n&&`https://www.linkedin.com/in/${n}`,X=r&&`https://www.linkedin.com/sales/lead/${r}`,q=a&&`https://www.linkedin.com/talent/search/profile/${a}`;let J,K,Q=D(W)?W.map((e=>"object"==typeof e&&Object.keys(e).length&&(e=>{const{company:t,companyName:n,companyUrn:r,companyUrnResolutionResult:a,companyResolutionResult:i,current:o,dateRange:s,description:l,"*employmentType":c,endDateOn:m,endedOn:u,location:p,locationName:d,startDateOn:y,startedOn:f,title:h}=e,{industry:b,location:N}=a||{},{industries:w}=i||{},{start:v,startDate:P,end:A,endDate:I}=s||{},j=t&&"string"==typeof t&&t||r,S=v||P||y||f,k=I||A||m||u;let D,R=p?.displayName??p;return!R&&N&&(R=N),!R&&d&&(R=d),w?D=O(w):b&&(D=O(b)),{companyName:n?.trim(),current:o,description:l,employmentType:c,endDate:k&&"object"==typeof k&&Object.keys(k).length?{...k.month&&{month:k.month},...k.year&&{year:k.year}}:null,fullString:R&&g(R),industries:D&&Array.isArray(D)&&D.length?D:null,linkedInCompanyId:j&&E(j),startDate:S&&"object"==typeof S&&Object.keys(S).length?{...S.month&&{month:S.month},...S.year&&{year:S.year}}:null,titleName:h}})(e))):null;D(Q)&&(Q=Q.filter((e=>!!e?.companyName&&!!e?.titleName)),Q=((e,t)=>{const n=e.reduce(((e,n)=>{const r=e;return r[t.map((e=>n[e])).join("-")]=n,r}),{});return Object.values(n)})(Q,["companyName","titleName","employmentType"])),Y&&({companyName:J,title:K}=S(Y)),!J&&W?.length&&(J=W[0].companyName);let Z={liMemberId:t,liPublicIdentifier:n&&decodeURI(n),liSalesNavId:r,liRecruiterId:a,liProfileUrl:R(B)?b(B):null,liSalesNavUrl:R(X)?b(X):null,liRecruiterUrl:R(q)?b(q):null,firstName:o,lastName:s,contactName:F,birthday:c,liImageUrl:m&&N(m),contactEmail:f(p,y),phoneNumbers:d,locationFullString:R(I)?g(I):null,social:j,...u&&{meta:{summary:u}},awards:D(U)?U:null,certifications:D(C)?C:null,courses:D(L)?L:null,educations:D(T)?v(T):null,industries:w(M),languages:D($)?A($):null,organizations:D(x)?x:null,patents:D(z)?z.filter((e=>!!e)):null,projects:D(H)?H.filter((e=>!!e)):null,publications:D(V)?V.filter((e=>!!e)):null,skills:D(G)?P(G):null,volunteeringExperiences:D(_)?_:null,companyName:J,title:K,occupation:Y,positions:Q,itemType:"contact"};return Z=function(e){const t=e;let n,r;if(D(t.positions)){const e=k(t.positions);D(e)&&(t.companyName=e[0].companyName,t.title=e[0].titleName)}if(t.companyName&&t.title||!t.occupation||(({companyName:n,title:r}=S(t.occupation)),n&&(t.companyName=n),r&&(t.title=r)),D(t.positions)){const e=k(t.positions);!D(e)||t.companyName===e[0].companyName&&t.title===e[0].titleName||(t.companyName=e[0].companyName,t.title=e[0].titleName)}return t}(Z),Z=h(Z),Z},C="https://media-exp2.licdn.com/media";function L(e){if(e.constructor!==Object)return"";let t=e[Object.keys(e)[0]].id||"";return t&&(t=`${C}${t}`),t}function T(e={}){const{member:{firstName:t="",lastName:n="",occupation:r="",publicIdentifier:a="",picture:i}={}}=e||{};return{firstname:t,lastname:n,occupation:r,publicIdentifier:a,picture:i&&L(i)}}function M(e){const t={applicationNumber:e.applicationNumber||"",description:e.description||"",filingDate:e.filingDate||{},issueDate:e.issueDate||{},number:e.number||"",pending:e.pending,title:e.title||"",url:e.url||""};return e.hasOwnProperty("inventors")&&e.inventors.length>0&&(t.inventors=e.inventors.filter((e=>e.hasOwnProperty("member"))).map((e=>T(e.member)))),t}function $(e){const t={date:e.date||{},description:e.description||"",name:e.name||"",publisher:e.publisher||"",url:e.url||""};return e.hasOwnProperty("authors")&&e.authors.length>0&&(t.authors=e.authors.map((e=>T(e)))),t}function x(e){const t={description:e.description||"",timePeriod:e.timePeriod||{},title:e.title||"",url:e.url||""},n=e;return e.hasOwnProperty("members")&&e.members.length>0&&(n.members=e.members.map((e=>T(e)))),t}function z(e){let t="";if(e.companyUrn){const n=e.companyUrn.split(":");t=parseInt(n[n.length-1],10)}const n={locationName:e.locationName||"",companyName:e.companyName||"",linkedInCompanyId:t,description:e.description||"",dateRange:e.timePeriod||{},title:e.title||""};return e.hasOwnProperty("company")&&(n.company={employeeCountRange:e.company.employeeCountRange||{},industries:e.company.industries||[]},e.company.hasOwnProperty("miniCompany")&&e.company.miniCompany.hasOwnProperty("logo")&&(n.company.logo=L(e.company.miniCompany.logo))),n}function H(e){const t={activities:e.activities||"",degreeName:e.degreeName||"",fieldOfStudy:e.fieldOfStudy||"",dateRange:e.timePeriod||{},schoolName:e.schoolName||""};return e.hasOwnProperty("school")&&(t.school={active:e.school.active||!1,name:e.school.schoolName||""},e.school.hasOwnProperty("logo")&&(t.school.logo=L(e.school.logo))),t}function V(e){const t=Object.keys(e.type)[0];return{website:e.url,type:e.type[t].category||"Portfolio"}}o((function(e){const{profile:{firstName:t="",lastName:n="",headline:r="",companyName:a="",industryName:i="",summary:o="",locationName:s="",pictureInfo:{masterImage:l}={},miniProfile:{occupation:c,picture:m,publicIdentifier:u,objectUrn:p,entityUrn:d}={},address:y="",picture:f=""}={},emailAddress:h,birthDateOn:g={},phoneNumbers:b=[],twitterHandles:N=[],educationView:{elements:w=[]}={},patentView:{elements:O=[]}={},publicationView:{elements:v=[]}={},projectView:{elements:P=[]}={},positionView:{elements:A=[]}={},languageView:{elements:I=[]}={},skillView:{elements:S=[]}={},websites:k=[]}=e,D={liMemberId:E(p),publicIdentifier:u,salesNavIdentifier:(L=d,L.match(j)?.groups?.salesNavId),source:"LinkedIn",firstname:t,firstName:t,lastname:n,lastName:n,headline:r,companyName:a,industries:i&&"string"==typeof i?[i]:null,summary:o,location:s&&s.length?(R=s,R.replace(/(\r\n|\n|\r)/gm," ").replace(/^Greater /,"").replace(/ Area$/,"").replace(/ Metropolitan$/,"")):null,emailAddress:h,occupation:c,address:y,birthdate:g,phoneNumbers:b,twitterHandles:N.map((e=>e.name)),profilePicture:l?`${C}${l}`:f,educations:w.map(H),patents:O.map(M),publications:v.map($),projects:P.map(x),positions:A.map(z),languages:I.map((e=>e.name)),skills:S.map((e=>e.name)),websites:k.map(V)};var R,L;if((""===D.picture||!D.picture)&&m){const e=m[Object.keys(m)[0]];e&&e.rootUrl&&Array.isArray(e.artifacts)&&e.artifacts[0]&&(D.picture=e.rootUrl+e.artifacts[e.artifacts.length-1].fileIdentifyingUrlPathSegment,D.profilePicture=D.picture)}const T=(A.filter((e=>e.hasOwnProperty("timePeriod")&&e.timePeriod.hasOwnProperty("startDate")&&!e.timePeriod.hasOwnProperty("endDate")))||[])[0]||{};D.headline===D.occupation&&A.length&&(D.occupation=T.title||""),D.companyName=T.companyName,D.occupation?.trim()?.toLowerCase()===D.headline?.trim()?.toLowerCase()&&(D.occupation=T.title);const G=U(D);return G.pageSectionSourced="standardContactProfile",G.itemType="contact",{parsedItems:[G]}}))})();